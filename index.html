<h1>CanalPilot</h1>

<label>
  Start chainage:
  <input id="start" type="number" value="0" />
</label>

<label style="margin-left: 12px;">
  End chainage:
  <input id="end" type="number" value="3200" />
</label>

<button id="calc" style="margin-left: 12px;">Calculate</button>

<pre id="output"></pre>

<script type="module">
  import { getRouteSummary } from "./src/engine/routingEngine.js";
  import { DEFAULT_CONFIG } from "./src/engine/config.js";
  import { testCorridor } from "./src/data/testCorridor.js";

  const config = {
    ...DEFAULT_CONFIG,
    maxChainage: testCorridor.length
  };

  function render() {
    const start = Number(document.getElementById("start").value);
    const end = Number(document.getElementById("end").value);

    const summary = getRouteSummary(
      start,
      end,
      testCorridor.features,
      config
    );

    document.getElementById("output").textContent =
      JSON.stringify(summary, null, 2);
  }

  document.getElementById("calc").addEventListener("click", render);

  // run once on page load
  render();
</script>
