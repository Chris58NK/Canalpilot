<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>CanalPilot Engine Test</title>
</head>
<body>
  <h2>CanalPilot â€“ Routing Engine Proof</h2>
  <pre id="output"></pre>

  <script type="module">
    import { calculateRoute, featuresWithinHours } from "./engine.js";

    const out = document.getElementById("output");

    const speedMph = 3;
    const minutesPerLock = 8;
    const windowHours = 1;

    const northboundResult = calculateRoute(0, 3200, speedMph, minutesPerLock);
    const southboundResult = calculateRoute(3200, 0, speedMph, minutesPerLock);

    const northWindow = featuresWithinHours(0, 3200, windowHours, speedMph);
    const southWindow = featuresWithinHours(3200, 0, windowHours, speedMph);

    out.textContent =
      "Northbound route:\n" +
      JSON.stringify(northboundResult, null, 2) +
      "\n\nSouthbound route:\n" +
      JSON.stringify(southboundResult, null, 2) +
      `\n\nFeatures within next ${windowHours} hour(s) at ${speedMph} mph (Northbound):\n` +
      JSON.stringify(northWindow, null, 2) +
      `\n\nFeatures within next ${windowHours} hour(s) at ${speedMph} mph (Southbound):\n` +
      JSON.stringify(southWindow, null, 2);
  </script>
</body>
</html>
